(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aaade884"],{"360c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container case-list-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"case-info"},[a("el-tag",[t._v("文件数量："+t._s(t.caseInfo.services))]),a("span",{staticStyle:{float:"right",padding:"4px 10px"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{size:"mini",placeholder:"输入业务唯一标识搜索"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-search"},on:{click:t.getList}},[t._v("搜索")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData.filter((function(e){return!t.search||e.serviceId.toLowerCase().includes(t.search.toLowerCase())})),border:"",size:"small","highlight-current-row":""}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"serviceId",label:"业务唯一标识"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"fileName",label:"文件名称"}}),a("el-table-column",{attrs:{prop:"fileUrl",label:"文件路径","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-tooltip",{attrs:{content:i.fileUrl,placement:"top",effect:"dark"}},[a("el-button",{staticStyle:{"font-size":"12px"},attrs:{type:"text"},nativeOn:{click:function(e){return t.openUrl(i.fileUrl)}}},[t._v(t._s(i.fileUrl))])],1)]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"orgFileName",label:"源文件名称"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"type",label:"文件类型"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"data",label:"业务参数"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"createDate",label:"创建时间"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"modifyDate",label:"修改时间"}})],1)],1)],1)},n=[],s=(a("c740"),a("a434"),a("d3b7"),a("ac1f"),a("841c"),a("62e4")),o={name:"List",data:function(){return{caseInfo:{services:1,instances:1},search:"",tableData:[],listLoading:!0,searchForm:{date:null},dialogVisible:!1,drawerVisible:!1,sort:"id_desc",pickerOptions:{shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(s["a"])({date:this.searchForm.date,id:this.search}).then((function(e){t.tableData=e.data,t.total=t.tableData.length,t.caseInfo.services=t.tableData.length,t.caseInfo.instances=t.tableData.length,console.log(e)})).finally((function(){t.listLoading=!1}))},handleFilter:function(){this.listQuery.page=1,this.getList()},handleModifyStatus:function(t,e){this.$message({message:"操作Success",type:"success"}),t.status=e},sortChange:function(t){var e=t.prop,a=t.order;"id"===e&&this.sortByID(a)},sortByID:function(t){this.listQuery.sort="ascending"===t?"+id":"-id",this.handleFilter()},resetTemp:function(){this.temp={id:void 0,importance:1,remark:"",timestamp:new Date,title:"",status:"published",type:""}},handleCreate:function(){var t=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},createData:function(){var t=this;this.$refs["dataForm"].validate((function(e){e&&(t.temp.id=parseInt(100*Math.random())+1024,t.temp.author="vue-element-admin",Object(s["b"])(t.temp).then((function(){t.list.unshift(t.temp),t.dialogFormVisible=!1,t.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3})})))}))},handleUpdate:function(t){var e=this;this.temp=Object.assign({},t),this.temp.timestamp=new Date(this.temp.timestamp),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},updateData:function(){var t=this;this.$refs["dataForm"].validate((function(e){if(e){var a=Object.assign({},t.temp);a.timestamp=+new Date(a.timestamp),Object(s["e"])(a).then((function(){var e=t.list.findIndex((function(e){return e.id===t.temp.id}));t.list.splice(e,1,t.temp),t.dialogFormVisible=!1,t.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3})}))}}))},handleDelete:function(t,e){this.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),this.list.splice(e,1)},handleFetchPv:function(t){var e=this;Object(s["c"])(t).then((function(t){e.pvData=t.data.pvData,e.dialogPvVisible=!0}))},handleDownload:function(){var t=this;this.downloadLoading=!0,Promise.all([a.e("chunk-5b0190f0"),a.e("chunk-f2c374ea"),a.e("chunk-2133cd4f")]).then(a.bind(null,"4bf8")).then((function(e){var a=["timestamp","title","type","importance","status"],i=["timestamp","title","type","importance","status"],n=t.formatJson(i);e.export_json_to_excel({header:a,data:n,filename:"table-list"}),t.downloadLoading=!1}))},goCmd:function(t){console.log(t),this.$router.push({name:"WebShell",query:{id:t.appId}})},openUrl:function(t){""!=t?window.open(t,"_blank"):this.$message({showClose:!0,message:"视频正在处理中，请稍后。。。",type:"success"})},getSortClass:function(t){var e=this.listQuery.sort;return e==="+".concat(t)?"ascending":"descending"}}},l=o,r=a("0c7c"),c=Object(r["a"])(l,i,n,!1,null,null,null);e["default"]=c.exports},"62e4":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"d",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return l})),a.d(e,"e",(function(){return r}));var i=a("b775");function n(t){return Object(i["a"])({url:"/video/getVideoList",method:"get",params:t})}function s(t){return Object(i["a"])({url:"/video/monitor/channels",method:"get",params:t})}function o(t){return Object(i["a"])({url:"/vue-element-admin/article/pv",method:"get",params:{pv:t}})}function l(t){return Object(i["a"])({url:"/vue-element-admin/article/create",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/vue-element-admin/article/update",method:"post",data:t})}}}]);